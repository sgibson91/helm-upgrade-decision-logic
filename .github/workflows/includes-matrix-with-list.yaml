# Matrix nesting is not explicitly supported by GitHub Actions
# See: https://github.community/t/proposal-matrix-nesting/16769
#
# Instead, we explicitly write out each matrix config
# See: https://github.community/t/matrix-include/16721/3

on: [workflow_dispatch]

jobs:
  test-includes-matrix-with-list:
    runs-on: ubuntu-latest
    strategy:
      fail-fast: false
      matrix:
        include:
          - food: pizza
            flavour: ["pepperoni", "margarita", "hawaiian"]
#         cfg:
#           - { food: ice-cream, flavour: chocolate }
#           - { food: ice-cream, flavour: vanilla }
#           - { food: ice-cream, flavour: strawberry }
#           - { food: pizza, flavour: pepperoni }
#           - { food: pizza, flavour: margarita }
#           - { food: pizza, flavour: hawaiian }
#     steps:
#       - env:
#           FOOD: ${{ matrix.cfg.food }}
#           FLAVOUR: ${{ matrix.cfg.flavour }}
#         run: |
#           echo "My favourite food is ${FOOD}. I like ${FLAVOUR} the best!"
